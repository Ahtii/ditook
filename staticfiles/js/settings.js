$(document).ready(function(){var t=!1;$(window).width();function s(){$(window).outerWidth()<481?($(".settingsArea").removeClass("container-fluid"),$(".settingsContent").removeClass("row"),$(".tabDetails").removeClass("col-xs-6 col-xs-pull-1 col-sm-7 col-sm-pull-2"),"0px"==$(".tabDetails").css("margin-top")?$(".tabDetails").css("margin-top","-140px"):t&&$(".tabDetails").css("margin-top","-150px")):($(".settingsArea").hasClass("container-fluid")||$(".settingsArea").addClass("container-fluid"),$(".settingsContent").hasClass("row")||$(".settingsContent").addClass("row"),$(".tabDetails").hasClass("col-xs-6 col-xs-pull-1 col-sm-7 col-sm-pull-2")||$(".tabDetails").addClass("col-xs-6 col-xs-pull-1 col-sm-7 col-sm-pull-2"),$(".tabDetails").css("margin-top","0px"))}$(window).resize(function(){$(window).width(),s(),$(".settingsMenu").is(":visible")?($(p+" > *").css("color","teal"),$(".settingsMenu a:not("+p+") > *").css("color","")):($(p).css("color","teal"),$(".tabs a:not("+p+"), .tabs a >:not("+p+")").css("color",""))}),$(".tabs a, .settingsMenu a").mouseenter(function(){var s=$(this).attr("id");$(".settingsMenu").is(":visible")?t&&($(".settingsMenu #"+s+" > *").css("color","teal"),$(".settingsMenu #"+s).css({border:"2px solid rgb(200,200,200)","box-shadow":"0px 0px 5px silver","border-radius":"10px",padding:"2px","padding-left":"10px","padding-right":"10px",transition:"padding 0.1s","-webkit-transition":"padding 0.1s"}),u.set(".settingsMenu a > *:not(.settingsMenu #"+s+" > *)")):($("#"+s).css("color","teal"),u.set(".tabs a:not(.tabs #"+s+")"))}),$(".tabs a, .settingsMenu a").mouseleave(function(){var s=$(this).attr("id");!1,$(".settingsMenu").is(":visible")?t&&($(p+" > *").css("color","teal"),$(".settingsMenu a:not("+p+") > *").css("color",""),$(".settingsMenu #"+s).css({"padding-left":"","box-shadow":"","padding-right":"",border:"","border-radius":"",padding:""})):($(p).css("color","teal"),$(".tabs a:not("+p+")").css("color",""))}),$(".tabs #settingsAccount, .settingsMenu #settingsAccount > * ").css("color","teal"),$(".tabs a, .settingsMenu a").on("click",function(s){s.preventDefault(),!0,p="#"+$(this).attr("id"),$(".settingsMenu").is(":visible")&&(t||d==p||($(".settingsMenu "+d+" > * ").css("color",""),$(".settingsMenu "+p+" > * ").css("color","teal")));var e=p.replace("settings","").toLowerCase()+"Details",a=d.replace("settings","").toLowerCase()+"Details";$(e).is(":visible")||($(a).css({display:"none",transition:"display 2s","-webkit-transition":"display 2s"}),$(e).css({display:"block",transition:"display 2s","-webkit-transition":"display 2s"})),d=p}),$(".settingsMenuTitle").click(function(){t?(t=!1,$(".mobileTabs").css({width:"","padding-top":"",height:""}),$(".settingsMenuTitle").text(""),$(".settingsMenu a span").css({display:""}),$(".settingsMenuTitle, .settingsMenu a").css({"margin-left":""}),$(".tabDetails").css("margin-top","-140px"),$(this).removeClass("fa-times"),$(this).addClass("fa-list")):($(".mobileTabs").css({"padding-top":"10px",width:"150px",height:"150px",transition:"width 0.3s","-webkit-transition":"width 0.3s"}),t=!0,setTimeout(function(){t&&($(".settingsMenuTitle").text(" Menu"),$(".settingsMenu a span").css("display","inline"),$(".settingsMenuTitle, .settingsMenu a").css("margin-left","5px"))},120),$(".tabDetails").css("margin-top","-150px"),$(this).removeClass("fa-list"),$(this).addClass("fa-times"))}),s(),$(".tabBody strong a").hover(function(){var t="#"+$(this).parent().attr("id"),s=$(t+" i, "+t+" span").css("font-size").replace("px","");s=parseInt(s),s+=.2,$(t+" i, "+t+" span").css({"font-size":s+"px",transition:"font-size 0.1s","-webkit-transition":"font-size 0.1s"})},function(){var t="#"+$(this).parent().attr("id");$(t+" i, "+t+" span").css({"font-size":""})});var e=$("#accountUsername input").attr("value"),a="*********",i=$("#accountEmail input").attr("value"),n=$("#accountDeactivate strong").text(),o=$("#supportedTimezones option:selected").val();$(".tabBody strong a").click(function(t){t.preventDefault();var s="#"+$(this).parent().attr("id");if($(this).children().hasClass("fa-edit"))$(s+" input").attr("readonly")?($(s+" input").attr("readonly",!1),$(s+" input").css({"border-radius":"5px","box-shadow":"0px 0px 5px silver"}),$(s+" a span").text("X")):($(s+" input").attr("readonly",!0),$(s+" input").css({"border-radius":"","box-shadow":""}),"#accountUsername"==s?$(s+" input").val(e):"#accountEmail"==s?$(s+" input").val(i):"#accountPassword"==s&&$(s+" input").val(a),$(s+" a span").text("Edit"));else{var o=s+" a i",r=s+" a span",l=!1;$(o).hasClass("fa-toggle-off")?($(o).removeClass("fa-toggle-off"),$(o).addClass("fa-toggle-on"),$(r).text("On"),l=!0):($(o).removeClass("fa-toggle-on"),$(o).addClass("fa-toggle-off"),$(r).text("Off"))}"#accountDeactivate"==s?(n=l?"Deactivate":"Active",$(s+" strong").text(n),"Deactivate"==n&&$.get("/authenticate/deactivateUser/",function(t){t.redirectTo?(sessionStorage.setItem("responseType",t.responseType),sessionStorage.setItem("response",t.response),window.location.replace(t.redirectTo)):setNotificationBox(t.response,t.responseType)})):"#emailOption"!=s&&"#articleOption"!=s||(l?$(s+" strong").text("Only me"):$(s+" strong").text("Everyone"))});var r="",l="",c="";$("#accountSettingsForm").on("submit",function(t){t.preventDefault();var s=function(t){if("#accountSettingsForm"==t){var s=!1;if(r=$("#accountUsername input").val(),l=$("#accountEmail input").val(),c=$("#accountPassword input").val(),newTimezone=$("#supportedTimezones option:selected").val(),r!=e){if(!validateFunc.isValidUsername(r))return"Username must be atleast 3 chars (Max 15), must start with letter, followed by letter, digit or underscore.";s||(s=!0)}if(l!=i){if(!validateFunc.isValidEmail(l))return"Invalid Email format.";s||(s=!0)}if(c!=a){if(!validateFunc.isValidPassword(c))return"Password must be atleast 8 chars, atleast 1 letter & must not be part of email.";s||(s=!0)}return newTimezone!=o&&(o=newTimezone,s=!0),s}}("#"+$(this).attr("id"));$(".errMsg strong").text(""),s?"string"==typeof s?$(".errMsg strong").text(s):(initNotificationBox("Upading Profile..."),$.ajax({type:"POST",url:"/authenticate/updateUser/",data:{username:r,email:l,password:c,status:n,timezone:o,csrfmiddlewaretoken:$("input[name=csrfmiddlewaretoken]").val()},dataType:"json",success:function(t){setNotificationBox(t.response,t.responseType),"fa fa-check"==t.responseType&&(t.username&&(e=t.username),t.email&&(i=t.email)),t.redirectTo&&window.location.replace(t.redirectTo)},error:function(t){setNotificationBox("Oops! Something went wrong.","fa fa-exclamation-circle")}})):console.log("")}),$("#privacySettingsForm").on("submit",function(t){t.preventDefault()}),$("#notificationSettingsForm").on("submit",function(t){t.preventDefault()});var u={set:function(t){$(t).css({color:"rgb(180, 180, 180)",transition:"color 0.3s","-webkit-transition":"color 0.3s"})}},p="#settingsAccount",d="#settingsAccount"});